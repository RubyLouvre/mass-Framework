<!DOCTYPE HTML>
<html>
    <head>
        <title>draggable live</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script>
            if (self!=top)
                window.top.location.replace(self.location);
        </script>

        <style type="text/css">
            .drag {
                position: absolute;
                border: 1px solid #89B;
                background: #BCE;
                height: 58px;
                width: 58px;
                cursor: move;
                top: 120px;
                text-align: center;
                line-height: 58px;
            }
        </style>
        <script src="../public/js/mass_merge.js" type="text/javascript" ></script>
        <script>
            $.require("ready,more/draggable",function(){
                $("#back").prop("href","/src/doc/plugin.html?iframe_src=more/$.fn.draggable.html")
                var num = 1;
                $('#add').click(function(){
                    $('<div class="drag"/>')
                    .text( num++ )
                    .appendTo( document.body )
                    .css({
                        top: Math.random() * ( $( window ).height() - 100 ) + 20,
                        left: Math.random() * ( $( window ).width() - 100 ) + 20
                    });
                });
                $('.drag').draggable({live:true})

            });
        </script>
    </head>
    <body>

        <p>使用事件代理拖动以后才出现的符合要求(指CSS表达式匹配)的元素。 <a id="back" href="">返回</a></p>
        <p>
            <input type="button" id="add" value="创建一个新的拖动块" />
        </p>
        <pre>
            $.require("ready,more/draggable",function(){
                var num = 1;
                $('#add').click(function(){
                    $('&lt;div class="drag"/&gt;')
                    .text( num++ )
                    .appendTo( document.body )
                    .css({
                        top: Math.random() * ( $( window ).height() - 100 ) + 20,
                        left: Math.random() * ( $( window ).width() - 100 ) + 20
                    });
                });
                $('.drag').draggable({live:true})
            });
        </pre>
    </body>
</html>
